<?xml version="1.0" encoding="windows-1252" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="518px" preserveAspectRatio="none" style="width:1615px;height:518px;background:#FFFFFF;" version="1.1" viewBox="0 0 1615 518" width="1615px" zoomAndPan="magnify"><script xmlns=""/><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="130" x="741" y="27.9951">Replicated Calls</text><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="490" x="1075" y="199.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="118.5938" y2="437.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1203" x2="1203" y1="118.5938" y2="437.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1366" x2="1366" y1="118.5938" y2="437.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1443" x2="1443" y1="118.5938" y2="437.9219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1521" x2="1521" y1="118.5938" y2="437.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="5" y="115.292">Client</text><ellipse cx="29.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M29.5,58.7969 L29.5,85.7969 M16.5,66.7969 L42.5,66.7969 M29.5,85.7969 L16.5,100.7969 M29.5,85.7969 L42.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="5" y="449.917">Client</text><ellipse cx="29.5" cy="461.7188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M29.5,469.7188 L29.5,496.7188 M16.5,477.7188 L42.5,477.7188 M29.5,496.7188 L16.5,511.7188 M29.5,496.7188 L42.5,511.7188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="1085" y="115.292">Proxy, request-level interceptor</text><ellipse cx="1203.5" cy="86.2969" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1191.5" x2="1215.5" y1="100.2969" y2="100.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="1085" y="449.917">Proxy, request-level interceptor</text><ellipse cx="1203.5" cy="469.2188" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1191.5" x2="1215.5" y1="483.2188" y2="483.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1332" y="115.292">Replica1</text><path d="M1348,66.2969 C1348,56.2969 1366,56.2969 1366,56.2969 C1366,56.2969 1384,56.2969 1384,66.2969 L1384,92.2969 C1384,102.2969 1366,102.2969 1366,102.2969 C1366,102.2969 1348,102.2969 1348,92.2969 L1348,66.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1348,66.2969 C1348,76.2969 1366,76.2969 1366,76.2969 C1366,76.2969 1384,76.2969 1384,66.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1332" y="449.917">Replica1</text><path d="M1348,463.2188 C1348,453.2188 1366,453.2188 1366,453.2188 C1366,453.2188 1384,453.2188 1384,463.2188 L1384,489.2188 C1384,499.2188 1366,499.2188 1366,499.2188 C1366,499.2188 1348,499.2188 1348,489.2188 L1348,463.2188 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1348,463.2188 C1348,473.2188 1366,473.2188 1366,473.2188 C1366,473.2188 1384,473.2188 1384,463.2188 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1410" y="115.292">Replica2</text><path d="M1425.5,66.2969 C1425.5,56.2969 1443.5,56.2969 1443.5,56.2969 C1443.5,56.2969 1461.5,56.2969 1461.5,66.2969 L1461.5,92.2969 C1461.5,102.2969 1443.5,102.2969 1443.5,102.2969 C1443.5,102.2969 1425.5,102.2969 1425.5,92.2969 L1425.5,66.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1425.5,66.2969 C1425.5,76.2969 1443.5,76.2969 1443.5,76.2969 C1443.5,76.2969 1461.5,76.2969 1461.5,66.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1410" y="449.917">Replica2</text><path d="M1425.5,463.2188 C1425.5,453.2188 1443.5,453.2188 1443.5,453.2188 C1443.5,453.2188 1461.5,453.2188 1461.5,463.2188 L1461.5,489.2188 C1461.5,499.2188 1443.5,499.2188 1443.5,499.2188 C1443.5,499.2188 1425.5,499.2188 1425.5,489.2188 L1425.5,463.2188 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1425.5,463.2188 C1425.5,473.2188 1443.5,473.2188 1443.5,473.2188 C1443.5,473.2188 1461.5,473.2188 1461.5,463.2188 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1487" y="115.292">Replica3</text><path d="M1503,66.2969 C1503,56.2969 1521,56.2969 1521,56.2969 C1521,56.2969 1539,56.2969 1539,66.2969 L1539,92.2969 C1539,102.2969 1521,102.2969 1521,102.2969 C1521,102.2969 1503,102.2969 1503,92.2969 L1503,66.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1503,66.2969 C1503,76.2969 1521,76.2969 1521,76.2969 C1521,76.2969 1539,76.2969 1539,66.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1487" y="449.917">Replica3</text><path d="M1503,463.2188 C1503,453.2188 1521,453.2188 1521,453.2188 C1521,453.2188 1539,453.2188 1539,463.2188 L1539,489.2188 C1539,499.2188 1521,499.2188 1521,499.2188 C1521,499.2188 1503,499.2188 1503,489.2188 L1503,463.2188 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1503,463.2188 C1503,473.2188 1521,473.2188 1521,473.2188 C1521,473.2188 1539,473.2188 1539,463.2188 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M1201,133.5938 L1201,158.5938 L1608,158.5938 L1608,143.5938 L1598,133.5938 L1201,133.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1598,133.5938 L1598,143.5938 L1608,143.5938 L1598,133.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="386" x="1207" y="150.6606">A replica is a node that holds a copy of data or a chunk of it.</text><polygon fill="#181818" points="1191.5,180.8594,1201.5,184.8594,1191.5,188.8594,1195.5,184.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29.5" x2="1197.5" y1="184.8594" y2="184.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="36.5" y="179.7935">B.request(query,data) // read or write the data</text><path d="M1075,199.8594 L1248,199.8594 L1248,206.9922 L1238,216.9922 L1075,216.9922 L1075,199.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="490" x="1075" y="199.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="1090" y="212.9263">n replicated calls</text><polygon fill="#181818" points="1354,234.125,1364,238.125,1354,242.125,1358,238.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1203.5" x2="1360" y1="238.125" y2="238.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1210.5" y="233.0591">Forward request</text><polygon fill="#181818" points="1431.5,263.2578,1441.5,267.2578,1431.5,271.2578,1435.5,267.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1203.5" x2="1437.5" y1="267.2578" y2="267.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1210.5" y="262.1919">Forward request</text><polygon fill="#181818" points="1509,292.3906,1519,296.3906,1509,300.3906,1513,296.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1203.5" x2="1515" y1="296.3906" y2="296.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1210.5" y="291.3247">Forward request</text><polygon fill="#181818" points="1214.5,328.5234,1204.5,332.5234,1214.5,336.5234,1210.5,332.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1208.5" x2="1365" y1="332.5234" y2="332.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="1220.5" y="327.4575">Send response</text><polygon fill="#181818" points="1214.5,357.6563,1204.5,361.6563,1214.5,365.6563,1210.5,361.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1208.5" x2="1442.5" y1="361.6563" y2="361.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="1220.5" y="356.5903">Send response</text><polygon fill="#181818" points="1214.5,386.7891,1204.5,390.7891,1214.5,394.7891,1210.5,390.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1208.5" x2="1442.5" y1="390.7891" y2="390.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="1220.5" y="385.7231">Send response</text><polygon fill="#181818" points="40.5,415.9219,30.5,419.9219,40.5,423.9219,36.5,419.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="34.5" x2="1202.5" y1="419.9219" y2="419.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="1150" x="46.5" y="414.856">It applies a pipe() to responses, for example, it could send either the first response, or the last response, or combines all responses if you need agreement or chunks from replicas.</text><!--SRC=[dP71Ri8m38RlUGgB4qW5DBXnGDgG9kqsRKyG6XUYfN6Mk43VVawWdGI7IJiqglxy_cr_OSiEuGE3ixLcDB3JpYMbTCqKOUSiUbRoMUvXyXxfqbSGyRl3n7E79tHWFMEiCOX_0Zf1CIcZMUzr6gEV7fJLWx9MdXY1JXZ7icgqR-1PEfT_i0aqU388VDGCHt8cApM57gY170molYZ7pdzboV92gUiwysqPSGClYzicKpbZN-Mo6IoNqaQRN7-EbdCBB8dg4AaBu8SfCgswq2fvy-qmymPUAPvrD0EfEyFgByFwqO3Ug25_NE1JL76aG3xXSBtwt_LjWYkY3Rmnw205cBa66t0w0wRHdYfe111UT1iSLe9Nu7VEGCgXQ8LPBE0Q6nEFPLMcccMdxzMQshtrkPrplst0Dj1J1nu5jZv4n5R6A_xyiWcQIEtm86dn0m00]--></g></svg>